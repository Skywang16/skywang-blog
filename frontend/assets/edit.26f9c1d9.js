import{_ as q}from"./index.3a12671c.js";import{M as R,J as L,C as U,D as N,Q as S,R as O,F as T,w as z}from"./element-plus.8c1ec78f.js";import{_ as I}from"./picker.781c9a4f.js";import{u as M,a as P}from"./vue-router.9605b890.js";import{e as $,f as j}from"./index.a935f15b.js";import{w as H,p as J,q as Q,r as W}from"./information.8c78de9c.js";import{d as v,a1 as c,s as X,o as _,c as b,X as e,P as a,u as t,a as i,W as G,a8 as K,O as Y,U as Z}from"./@vue.a137a740.js";import"./@vueuse.a2c70c0f.js";import"./@element-plus.3660753f.js";import"./lodash-es.7718a1e4.js";import"./dayjs.7a8df8b4.js";import"./axios.00a285e9.js";import"./async-validator.fb49d0f5.js";import"./@ctrl.fd318bfa.js";import"./escape-html.e5dfadb9.js";import"./normalize-wheel-es.8aeb3683.js";import"./index.345a4530.js";import"./index.33d8b440.js";import"./usePaging.f7aa3aa8.js";import"./index.ad18f60b.js";import"./index.vue_vue_type_script_setup_true_lang.7bfa50f8.js";import"./vue3-video-play.b1eef99b.js";import"./vuedraggable.6b9b01a3.js";import"./vue.b1bda70a.js";import"./sortablejs.57b1acee.js";import"./lodash.1914dddf.js";import"./pinia.706f3ea9.js";import"./css-color-function.1f5b2f4d.js";import"./color.52be626b.js";import"./clone.4f21711a.js";import"./color-convert.755d189f.js";import"./color-name.e7a4e1d3.js";import"./color-string.e356f5de.js";import"./balanced-match.d2a36341.js";import"./ms.564e106c.js";import"./nprogress.bcfbe0a4.js";import"./vue-clipboard3.76938e62.js";import"./clipboard.d4b72188.js";import"./echarts.098cf7d6.js";import"./zrender.0646a922.js";import"./tslib.60310f1a.js";import"./highlight.js.7165574c.js";import"./@highlightjs.7fc78ec7.js";const ee={class:"weapons-edit"},ue={class:"xl:flex"},le={class:"w-80"},oe={class:"w-80"},te={class:"w-80"},ae={class:"w-80"},se=i("div",{class:"form-tips"},"\u5EFA\u8BAE\u5C3A\u5BF8\uFF1A240*180px",-1),re=v({name:"weaponsListsEdit"}),Ye=v({...re,setup(ie){const m=M(),g=P(),u=c({id:m.query.id,name:"",image:"",series:"",level:"",types:"",price:"",status:1}),{removeTab:w}=$(),B=X(),E=c({name:[{required:!0,message:"\u8BF7\u8F93\u5165\u6B66\u5668\u540D\u79F0",trigger:"blur"}],image:[{required:!0,message:"\u8BF7\u8F93\u5165\u6B66\u5668\u56FE\u7247",trigger:"blur"}],level:[{required:!0,message:"\u8BF7\u8F93\u5165\u6B66\u5668\u7B49\u7EA7",trigger:"blur"}],type:[{required:!0,message:"\u8BF7\u8F93\u5165\u6B66\u5668\u7C7B\u578B",trigger:"blur"}],price:[{required:!0,message:"\u8BF7\u8F93\u5165\u6B66\u5668\u4EF7\u683C",trigger:"blur"}],series:[{required:!0,message:"\u8BF7\u8F93\u5165\u6B66\u5668\u7CFB\u5217",trigger:"blur"}]}),A=async()=>{const r=await H({id:m.query.id});Object.keys(u).forEach(l=>{u[l]=r[l]})},p=c([]),V=async()=>{try{const r=await J();console.log(r,"response"),p.splice(0,p.length,...r.lists),console.log(p,"seriesListseriesListseriesList")}catch(r){console.error(r)}},y=async()=>{var r;u.level=Number(u.level),u.types=Number(u.types),u.series=String(u.series.id),await((r=B.value)==null?void 0:r.validate()),m.query.id?await Q(u):await W(u),j.msgSuccess("\u64CD\u4F5C\u6210\u529F"),w(),g.back()};return m.query.id&&A(),V(),(r,l)=>{const C=R,f=L,F=U,n=N,s=S,d=O,x=I,k=T,D=z,h=q;return _(),b("div",ee,[e(f,{class:"!border-none",shadow:"never"},{default:a(()=>[e(C,{price:"\u6B66\u5668\u7F16\u8F91",onBack:l[0]||(l[0]=o=>r.$router.back())})]),_:1}),e(f,{class:"mt-4 !border-none",shadow:"never"},{default:a(()=>[e(k,{ref_key:"formRef",ref:B,class:"ls-form",model:t(u),"label-width":"85px",rules:t(E)},{default:a(()=>[i("div",ue,[i("div",null,[e(n,{label:"\u6B66\u5668\u540D\u79F0",prop:"name"},{default:a(()=>[i("div",le,[e(F,{modelValue:t(u).name,"onUpdate:modelValue":l[1]||(l[1]=o=>t(u).name=o),placeholder:"\u8BF7\u8F93\u5165\u6B66\u5668\u540D\u79F0",autosize:{minRows:3,maxRows:3},maxlength:"20","show-word-limit":"",clearable:""},null,8,["modelValue"])])]),_:1}),e(n,{label:"\u6B66\u5668\u7C7B\u578B",prop:"types"},{default:a(()=>[i("div",oe,[e(d,{class:"w-[320px]",modelValue:t(u).types,"onUpdate:modelValue":l[2]||(l[2]=o=>t(u).types=o)},{default:a(()=>[e(s,{label:"\u968F\u8EAB\u6B66\u5668",value:0}),e(s,{label:"\u51B2\u950B\u67AA",value:1}),e(s,{label:"\u6563\u5F39\u67AA",value:2}),e(s,{label:"\u6B65\u67AA",value:3}),e(s,{label:"\u72D9\u51FB\u6B65\u67AA",value:4}),e(s,{label:"\u673A\u67AA",value:5})]),_:1},8,["modelValue"])])]),_:1}),e(n,{label:"\u6B66\u5668\u7B49\u7EA7",prop:"level"},{default:a(()=>[i("div",te,[e(d,{class:"w-[320px]",modelValue:t(u).level,"onUpdate:modelValue":l[3]||(l[3]=o=>t(u).level=o)},{default:a(()=>[e(s,{label:"\u7CBE\u9009",value:0}),e(s,{label:"\u5962\u534E",value:1}),e(s,{label:"\u5C0A\u7235",value:2}),e(s,{label:"\u7A76\u6781",value:3}),e(s,{label:"\u9650\u5B9A",value:4})]),_:1},8,["modelValue"])])]),_:1}),e(n,{label:"\u6B66\u5668\u4EF7\u683C",prop:"price"},{default:a(()=>[i("div",ae,[e(F,{modelValue:t(u).price,"onUpdate:modelValue":l[4]||(l[4]=o=>t(u).price=o),placeholder:"\u8BF7\u8F93\u5165\u6B66\u5668\u4EF7\u683C",autosize:{minRows:3,maxRows:6},maxlength:"8","show-word-limit":"",clearable:""},null,8,["modelValue"])])]),_:1}),e(n,{label:"\u6B66\u5668\u7CFB\u5217",prop:"series"},{default:a(()=>[e(d,{class:"w-[320px]",modelValue:t(u).series,"onUpdate:modelValue":l[5]||(l[5]=o=>t(u).series=o),"value-key":"id"},{default:a(()=>[(_(!0),b(G,null,K(t(p),o=>(_(),Y(s,{key:o.id,label:o.name,value:o},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),e(n,{label:"\u6B66\u5668\u56FE\u7247",prop:"image"},{default:a(()=>[i("div",null,[i("div",null,[e(x,{modelValue:t(u).image,"onUpdate:modelValue":l[6]||(l[6]=o=>t(u).image=o),limit:1},null,8,["modelValue"])]),se])]),_:1})])])]),_:1},8,["model","rules"])]),_:1}),e(h,null,{default:a(()=>[e(D,{type:"primary",onClick:y},{default:a(()=>[Z("\u4FDD\u5B58")]),_:1})]),_:1})])}}});export{Ye as default};
