import{_ as q}from"./index.3a12671c.js";import{M as A,J as L,C as T,D as U,Q as N,R as O,F as S,w as I}from"./element-plus.8c1ec78f.js";import{_ as M}from"./picker.781c9a4f.js";import{u as P,a as $}from"./vue-router.9605b890.js";import{e as j,f as z}from"./index.a935f15b.js";import{h as H,a as J,b as Q,c as W}from"./information.8c78de9c.js";import{d as y,a1 as p,s as X,o as d,c as f,X as t,P as a,a as u,u as l,W as G,a8 as K,O as Y,U as Z}from"./@vue.a137a740.js";import"./@vueuse.a2c70c0f.js";import"./@element-plus.3660753f.js";import"./lodash-es.7718a1e4.js";import"./dayjs.7a8df8b4.js";import"./axios.00a285e9.js";import"./async-validator.fb49d0f5.js";import"./@ctrl.fd318bfa.js";import"./escape-html.e5dfadb9.js";import"./normalize-wheel-es.8aeb3683.js";import"./index.345a4530.js";import"./index.33d8b440.js";import"./usePaging.f7aa3aa8.js";import"./index.ad18f60b.js";import"./index.vue_vue_type_script_setup_true_lang.7bfa50f8.js";import"./vue3-video-play.b1eef99b.js";import"./vuedraggable.6b9b01a3.js";import"./vue.b1bda70a.js";import"./sortablejs.57b1acee.js";import"./lodash.1914dddf.js";import"./pinia.706f3ea9.js";import"./css-color-function.1f5b2f4d.js";import"./color.52be626b.js";import"./clone.4f21711a.js";import"./color-convert.755d189f.js";import"./color-name.e7a4e1d3.js";import"./color-string.e356f5de.js";import"./balanced-match.d2a36341.js";import"./ms.564e106c.js";import"./nprogress.bcfbe0a4.js";import"./vue-clipboard3.76938e62.js";import"./clipboard.d4b72188.js";import"./echarts.098cf7d6.js";import"./zrender.0646a922.js";import"./tslib.60310f1a.js";import"./highlight.js.7165574c.js";import"./@highlightjs.7fc78ec7.js";const ee={class:"hero-edit"},te={style:{display:"flex"}},oe={class:"xl:flex"},se={class:"w-80"},re=u("div",{class:"form-tips"},"\u5EFA\u8BAE\u5C3A\u5BF8\uFF1A240*180px",-1),ae=y({name:"heroListsEdit"}),Ge=y({...ae,setup(le){const i=P(),F=$(),e=p({id:i.query.id,name:"",image:"",types:"",status:1}),{removeTab:g}=j(),c=X(),b=p({name:[{required:!0,message:"\u8BF7\u8F93\u5165\u89D2\u8272\u540D\u79F0",trigger:"blur"}],image:[{required:!0,message:"\u8BF7\u8F93\u5165\u89D2\u8272\u56FE\u7247",trigger:"blur"}],types:[{required:!0,message:"\u8BF7\u8F93\u5165\u89D2\u8272\u5B9A\u4F4D",trigger:"blur"}]}),D=async()=>{const o=await H({id:i.query.id});Object.keys(e).forEach(s=>{e[s]=o[s]})},n=p([]),h=async()=>{try{const o=await J();console.log(o,"response"),n.splice(0,n.length,...o.lists),console.log(n,"typeListtypeListtypeList")}catch(o){console.error(o)}},v=async()=>{var o;e.types=e.types.id,await((o=c.value)==null?void 0:o.validate()),i.query.id?await Q(e):await W(e),z.msgSuccess("\u64CD\u4F5C\u6210\u529F"),g(),F.back()};return i.query.id&&D(),h(),(o,s)=>{const w=A,_=L,E=T,m=U,B=N,k=O,V=M,x=S,C=I,R=q;return d(),f("div",ee,[t(_,{class:"!border-none",shadow:"never"},{default:a(()=>[t(w,{price:"\u89D2\u8272\u7F16\u8F91",onBack:s[0]||(s[0]=r=>o.$router.back())})]),_:1}),u("div",te,[t(_,{class:"mt-4 !border-none",shadow:"never",style:{width:"40%"}},{default:a(()=>[t(x,{ref_key:"formRef",ref:c,class:"ls-form",model:l(e),"label-width":"85px",rules:l(b)},{default:a(()=>[u("div",oe,[u("div",null,[t(m,{label:"\u89D2\u8272\u540D\u79F0",prop:"name"},{default:a(()=>[u("div",se,[t(E,{modelValue:l(e).name,"onUpdate:modelValue":s[1]||(s[1]=r=>l(e).name=r),placeholder:"\u8BF7\u8F93\u5165\u89D2\u8272\u540D\u79F0",autosize:{minRows:3,maxRows:3},maxlength:"20","show-word-limit":"",clearable:""},null,8,["modelValue"])])]),_:1}),t(m,{label:"\u89D2\u8272\u5B9A\u4F4D",prop:"types"},{default:a(()=>[t(k,{class:"w-[320px]",modelValue:l(e).types,"onUpdate:modelValue":s[2]||(s[2]=r=>l(e).types=r),"value-key":"id"},{default:a(()=>[(d(!0),f(G,null,K(l(n),r=>(d(),Y(B,{key:r.id,label:r.name,value:r},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),t(m,{label:"\u89D2\u8272\u56FE\u7247",prop:"image"},{default:a(()=>[u("div",null,[u("div",null,[t(V,{modelValue:l(e).image,"onUpdate:modelValue":s[3]||(s[3]=r=>l(e).image=r),limit:1},null,8,["modelValue"])]),re])]),_:1})])])]),_:1},8,["model","rules"])]),_:1})]),t(R,null,{default:a(()=>[t(C,{type:"primary",onClick:v},{default:a(()=>[Z("\u4FDD\u5B58")]),_:1})]),_:1})])}}});export{Ge as default};
