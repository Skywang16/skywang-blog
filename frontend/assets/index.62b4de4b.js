import{C as H,D as J,Q as W,R as X,w as G,F as M,J as Y,H as Z,t as ee,I as te,K as ae}from"./element-plus.8c1ec78f.js";import{u as le,_ as ue}from"./usePaging.f7aa3aa8.js";import{j as V,f as w,b as se,_ as oe}from"./index.a935f15b.js";import{d as P,a1 as D,b0 as ne,ag as ie,an as pe,o as u,c as n,X as e,P as a,u as l,a9 as x,W as de,a8 as re,O as f,U as r,a as U,Q as b,V as L,T as E,k as me}from"./@vue.a137a740.js";import{p as ce,q as _e,s as fe,t as ve}from"./information.8c78de9c.js";import"./@vueuse.a2c70c0f.js";import"./@element-plus.3660753f.js";import"./lodash-es.7718a1e4.js";import"./dayjs.7a8df8b4.js";import"./axios.00a285e9.js";import"./async-validator.fb49d0f5.js";import"./@ctrl.fd318bfa.js";import"./escape-html.e5dfadb9.js";import"./normalize-wheel-es.8aeb3683.js";import"./lodash.1914dddf.js";import"./vue-router.9605b890.js";import"./pinia.706f3ea9.js";import"./css-color-function.1f5b2f4d.js";import"./color.52be626b.js";import"./clone.4f21711a.js";import"./color-convert.755d189f.js";import"./color-name.e7a4e1d3.js";import"./color-string.e356f5de.js";import"./balanced-match.d2a36341.js";import"./ms.564e106c.js";import"./nprogress.bcfbe0a4.js";import"./vue-clipboard3.76938e62.js";import"./clipboard.d4b72188.js";import"./echarts.098cf7d6.js";import"./zrender.0646a922.js";import"./tslib.60310f1a.js";import"./highlight.js.7165574c.js";import"./@highlightjs.7fc78ec7.js";const Be={class:"weapons-lists"},be={key:0},ye={key:1},he={key:2},Ae={key:3},ge={key:4},we={key:0},Ee={key:1},Ce={key:2},Fe={key:3},ke={key:4},Ve={key:5},De={class:"flex justify-end mt-4"},xe=P({name:"weaponsLists"}),rt=P({...xe,setup(Ue){const i=D({name:"",level:"",types:-1,status:-1,series:""}),{pager:v,getLists:m,resetPage:g,resetParams:S}=le({fetchFun:ve,params:i}),y=D([]),C=async()=>{try{const p=await ce();console.log(p,"response"),p.lists&&p.lists.length>0&&y.splice(0,y.length,...p.lists)}catch(p){console.error(p)}},K=async p=>{({...p});try{await _e(p),w.msgSuccess("\u4FEE\u6539\u6210\u529F"),m()}catch{m()}},$=async p=>{await w.confirm("\u786E\u5B9A\u8981\u5220\u9664\uFF1F"),await fe({id:p}),w.msgSuccess("\u5220\u9664\u6210\u529F"),m()};return ne(()=>{C(),m()}),m(),C(),(p,o)=>{const I=H,c=J,s=W,h=X,B=G,N=M,F=Y,R=se,k=ie("router-link"),d=Z,T=oe,q=ee,j=te,O=ue,A=pe("perms"),Q=ae;return u(),n("div",Be,[e(F,{class:"!border-none",shadow:"never"},{default:a(()=>[e(N,{ref:"formRef",class:"mb-[-16px]",model:l(i),inline:!0},{default:a(()=>[e(c,{label:"\u6B66\u5668\u540D\u79F0"},{default:a(()=>[e(I,{class:"w-[280px]",modelValue:l(i).name,"onUpdate:modelValue":o[0]||(o[0]=t=>l(i).name=t),clearable:"",onKeyup:x(l(g),["enter"])},null,8,["modelValue","onKeyup"])]),_:1}),e(c,{label:"\u6B66\u5668\u7B49\u7EA7"},{default:a(()=>[e(h,{class:"w-[320px]",modelValue:l(i).level,"onUpdate:modelValue":o[1]||(o[1]=t=>l(i).level=t),clearable:"",onKeyup:x(l(g),["enter"])},{default:a(()=>[e(s,{label:"\u7CBE\u9009",value:0}),e(s,{label:"\u5962\u534E",value:1}),e(s,{label:"\u5C0A\u7235",value:2}),e(s,{label:"\u7A76\u6781",value:3}),e(s,{label:"\u9650\u5B9A",value:4})]),_:1},8,["modelValue","onKeyup"])]),_:1}),e(c,{label:"\u6B66\u5668\u72B6\u6001"},{default:a(()=>[e(h,{class:"w-[280px]",modelValue:l(i).status,"onUpdate:modelValue":o[2]||(o[2]=t=>l(i).status=t)},{default:a(()=>[e(s,{label:"\u5168\u90E8",value:-1}),e(s,{label:"\u663E\u793A",value:1}),e(s,{label:"\u9690\u85CF",value:0})]),_:1},8,["modelValue"])]),_:1}),e(c,{label:"\u6B66\u5668\u7C7B\u578B"},{default:a(()=>[e(h,{class:"w-[280px]",modelValue:l(i).types,"onUpdate:modelValue":o[3]||(o[3]=t=>l(i).types=t)},{default:a(()=>[e(s,{label:"\u5168\u90E8",value:-1}),e(s,{label:"\u968F\u8EAB\u6B66\u5668",value:0}),e(s,{label:"\u51B2\u950B\u67AA",value:1}),e(s,{label:"\u6563\u5F39\u67AA",value:2}),e(s,{label:"\u6B65\u67AA",value:3}),e(s,{label:"\u72D9\u51FB\u6B65\u67AA",value:4}),e(s,{label:"\u673A\u67AA",value:5})]),_:1},8,["modelValue"])]),_:1}),e(c,{label:"\u6B66\u5668\u7CFB\u5217"},{default:a(()=>[e(h,{class:"w-[280px]",modelValue:l(i).series,"onUpdate:modelValue":o[4]||(o[4]=t=>l(i).series=t)},{default:a(()=>[(u(!0),n(de,null,re(l(y),t=>(u(),f(s,{key:t.id,label:t.name,value:t.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),e(c,null,{default:a(()=>[e(B,{type:"primary",onClick:l(g)},{default:a(()=>[r("\u67E5\u8BE2")]),_:1},8,["onClick"]),e(B,{onClick:l(S)},{default:a(()=>[r("\u91CD\u7F6E")]),_:1},8,["onClick"])]),_:1})]),_:1},8,["model"])]),_:1}),e(F,{class:"!border-none mt-4",shadow:"never"},{default:a(()=>[U("div",null,[b((u(),f(k,{to:{path:l(V)("weapons:add/edit")}},{default:a(()=>[e(B,{type:"primary",class:"mb-4"},{icon:a(()=>[e(R,{name:"el-icon-Plus"})]),default:a(()=>[r(" \u65B0\u589E\u6B66\u5668 ")]),_:1})]),_:1},8,["to"])),[[A,["weapons:add","weapons:add/edit"]]])]),b((u(),f(j,{size:"large",data:l(v).lists},{default:a(()=>[e(d,{label:"\u5E8F\u53F7",width:"60"},{default:a(t=>[r(L(t.$index+1),1)]),_:1}),e(d,{label:"ID",prop:"id","min-width":"80"}),e(d,{label:"\u56FE\u7247","min-width":"100"},{default:a(({row:t})=>[t.image?(u(),f(T,{key:0,src:t.image,width:60,height:45,"preview-src-list":[t.image],"preview-teleported":"",fit:"contain"},null,8,["src","preview-src-list"])):E("",!0)]),_:1}),e(d,{label:"\u6B66\u5668\u540D\u79F0",prop:"name","min-width":"160","show-tooltip-when-overflow":""}),e(d,{label:"\u6B66\u5668\u7B49\u7EA7",prop:"level","min-width":"60"},{default:a(({row:t})=>[t.level===0?(u(),n("span",be,"\u7CBE\u9009")):t.level===1?(u(),n("span",ye,"\u5962\u534E")):t.level===2?(u(),n("span",he,"\u5C0A\u7235")):t.level===3?(u(),n("span",Ae,"\u7A76\u6781")):t.level===4?(u(),n("span",ge,"\u9650\u5B9A")):E("",!0)]),_:1}),e(d,{label:"\u6B66\u5668\u7C7B\u578B",prop:"types","min-width":"60"},{default:a(({row:t})=>[t.types===0?(u(),n("span",we,"\u968F\u8EAB\u6B66\u5668")):t.types===1?(u(),n("span",Ee,"\u51B2\u950B\u67AA")):t.types===2?(u(),n("span",Ce,"\u6563\u5F39\u67AA")):t.types===3?(u(),n("span",Fe,"\u6B65\u67AA")):t.types===4?(u(),n("span",ke,"\u72D9\u51FB\u6B65\u67AA")):t.types===5?(u(),n("span",Ve,"\u673A\u67AA")):E("",!0)]),_:1}),e(d,{label:"\u6B66\u5668\u7CFB\u5217","min-width":"60"},{default:a(({row:t})=>{var _;return[r(L((_=l(y).find(z=>z.id===t.series))==null?void 0:_.name),1)]}),_:1}),e(d,{label:"\u72B6\u6001","min-width":"100"},{default:a(({row:t})=>[b(e(q,{modelValue:t.status,"onUpdate:modelValue":_=>t.status=_,"active-value":1,"inactive-value":0,onChange:_=>K(t)},null,8,["modelValue","onUpdate:modelValue","onChange"]),[[A,["weapons:cate:change"]]])]),_:1}),e(d,{label:"\u64CD\u4F5C",width:"120",fixed:"right"},{default:a(({row:t})=>[b((u(),f(B,{type:"primary",link:""},{default:a(()=>[e(k,{to:{path:l(V)("weapons:add/edit"),query:{id:t.id}}},{default:a(()=>[r(" \u7F16\u8F91 ")]),_:2},1032,["to"])]),_:2},1024)),[[A,["weapons:edit","weapons:add/edit"]]]),b((u(),f(B,{type:"danger",link:"",onClick:_=>$(t.id)},{default:a(()=>[r(" \u5220\u9664 ")]),_:2},1032,["onClick"])),[[A,["weapons:del"]]])]),_:1})]),_:1},8,["data"])),[[Q,l(v).loading]]),U("div",De,[e(O,{modelValue:l(v),"onUpdate:modelValue":o[5]||(o[5]=t=>me(v)?v.value=t:null),onChange:l(m)},null,8,["modelValue","onChange"])])]),_:1})])}}});export{rt as default};
